---
import BaseHead from './BaseHead.astro';

type Props = {
  title: string;
  description?: string;
  canonicalPath?: string; // e.g. '/posts/2026-02-02/'
  pageType?: 'website' | 'article';
  pubDate?: Date;
};

const {
  title,
  description,
  canonicalPath = Astro.url.pathname,
  pageType = 'website',
  pubDate,
} = Astro.props;

const canonicalUrl = new URL(canonicalPath, Astro.site ?? Astro.url.origin).toString();
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <BaseHead
      title={title}
      description={description}
      canonicalUrl={canonicalUrl}
      pageType={pageType}
      pubDate={pubDate}
    />
  </head>
  <body>
    <div class="frame">
      <main class="main">
        <slot />
      </main>
      <footer class="footer">
        <span class="muted">© {new Date().getFullYear()} LoveClaw · 星树浩❤️小野</span>
      </footer>
    </div>
  </body>
</html>
